<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC
"-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.javajo.sunshineRoad.mappers.admin.board.AdminInquiryCntMapper">

	<select id="getAllInquiryCnt" resultType="int">
		SELECT COUNT(*)
		FROM INQUIRY
	</select>
	
	<select id="selectInquiryStatusCnt" resultType="int">
		SELECT COUNT(*)
		FROM (SELECT I.INQUIRY_ID,
					 I.INQUIRY_STATUS_ID,
					 S.INQUIRY_STATUS,
					 I.INQUIRY_TYPE_ID,
					 I.MEM_ID,
					 I.INQUIRY_TITLE,
					 I.INQUIRY_CONTENT,
					 TO_CHAR(I.INQUIRY_DATE_CREATED, 'YYYY-MM-DD') AS INQUIRY_DATE_CREATED,
					 I.INQUIRY_A
			  FROM INQUIRY I
					   INNER JOIN INQUIRY_STATUS S
								  ON (I.INQUIRY_STATUS_ID = S.INQUIRY_STATUS_ID)
			  WHERE I.INQUIRY_STATUS_ID = #{searchDTO.status})
	</select>

	<select id="selectInquiryTypesCnt" resultType="int">
		SELECT COUNT(*)
		FROM (SELECT F.FAQ_ID,
					 F.FAQ_TYPE_ID,
					 T.FAQ_TYPE_NAME,
					 F.FAQ_Q,
					 F.FAQ_A
			  FROM FAQ F
					   INNER JOIN FAQ_TYPE T
								  ON F.FAQ_TYPE_ID = T.FAQ_TYPE_ID
			  WHERE F.FAQ_TYPE_ID = #{searchDTO.theme})
	</select>
	
	<select id="unansweredInquiryCnt" resultType="int">
		SELECT COUNT(*)
		FROM (SELECT F.FAQ_ID,
					 F.FAQ_TYPE_ID,
					 T.FAQ_TYPE_NAME,
					 F.FAQ_Q,
					 F.FAQ_A
			  FROM FAQ F
					   INNER JOIN FAQ_TYPE T
								  ON F.FAQ_TYPE_ID = T.FAQ_TYPE_ID
			  WHERE F.FAQ_TYPE_ID = #{searchDTO.theme})
	</select>

</mapper>